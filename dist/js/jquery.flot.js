/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(f,e,c,d){var g={};g.r=f||0;g.g=e||0;g.b=c||0;g.a=d!=null?d:1;g.add=function(k,j){for(var h=0;h<k.length;++h){g[k.charAt(h)]+=j}return g.normalize()};g.scale=function(k,j){for(var h=0;h<k.length;++h){g[k.charAt(h)]*=j}return g.normalize()};g.toString=function(){if(g.a>=1){return"rgb("+[g.r,g.g,g.b].join(",")+")"}else{return"rgba("+[g.r,g.g,g.b,g.a].join(",")+")"}};g.normalize=function(){function h(k,l,j){return l<k?k:(l>j?j:l)}g.r=h(0,parseInt(g.r),255);g.g=h(0,parseInt(g.g),255);g.b=h(0,parseInt(g.b),255);g.a=h(0,g.a,1);return g};g.clone=function(){return b.color.make(g.r,g.b,g.g,g.a)};return g.normalize()};b.color.extract=function(d,c){var e;do{e=d.css(c).toLowerCase();if(e!=""&&e!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(e=="rgba(0, 0, 0, 0)"){e="transparent"}return b.color.parse(e)};b.color.parse=function(f){var e,c=b.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10))}if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]))}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55)}if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55,parseFloat(e[4]))}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return c(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16))}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return c(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16))}var d=b.trim(f).toLowerCase();if(d=="transparent"){return c(255,255,255,0)}else{e=a[d]||[0,0,0];return c(e[0],e[1],e[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(a){function c(ac,p,Y,ah){var al=(window.devicePixelRatio>1),am=[],X={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},k=null,Z=null,B=null,o=null,T=null,aA=[],aB=[],af={left:0,right:0,top:0,bottom:0},n=0,l=0,ag=0,ae=0,M={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ad=this;ad.setData=an;ad.setupGrid=at;ad.draw=q;ad.getPlaceholder=function(){return ac};ad.getCanvas=function(){return k};ad.getPlotOffset=function(){return af};ad.width=function(){return ag};ad.height=function(){return ae};ad.offset=function(){var aC=B.offset();aC.left+=af.left;aC.top+=af.top;return aC};ad.getData=function(){return am};ad.getAxes=function(){var aD={},aC;a.each(aA.concat(aB),function(aE,aF){if(aF){aD[aF.direction+(aF.n!=1?aF.n:"")+"axis"]=aF}});return aD};ad.getXAxes=function(){return aA};ad.getYAxes=function(){return aB};ad.c2p=m;ad.p2c=h;ad.getOptions=function(){return X};ad.highlight=K;ad.unhighlight=az;ad.triggerRedrawOverlay=ay;ad.pointOffset=function(aC){return{left:parseInt(aA[g(aC,"x")-1].p2c(+aC.x)+af.left),top:parseInt(aB[g(aC,"y")-1].p2c(+aC.y)+af.top)}};ad.shutdown=av;ad.resize=function(){G();ak(k);ak(Z)};ad.hooks=M;O(ad);ab(Y);ar();an(p);at();q();j();function C(aD,aC){aC=[ad].concat(aC);for(var aE=0;aE<aD.length;++aE){aD[aE].apply(this,aC)}}function O(){for(var aC=0;aC<ah.length;++aC){var aD=ah[aC];aD.init(ad);if(aD.options){a.extend(true,X,aD.options)}}}function ab(aE){var aC;a.extend(true,X,aE);if(X.xaxis.color==null){X.xaxis.color=X.grid.color}if(X.yaxis.color==null){X.yaxis.color=X.grid.color}if(X.xaxis.tickColor==null){X.xaxis.tickColor=X.grid.tickColor}if(X.yaxis.tickColor==null){X.yaxis.tickColor=X.grid.tickColor}if(X.grid.borderColor==null){X.grid.borderColor=X.grid.color}if(X.grid.tickColor==null){X.grid.tickColor=a.color.parse(X.grid.color).scale("a",0.22).toString()}for(aC=0;aC<Math.max(1,X.xaxes.length);++aC){X.xaxes[aC]=a.extend(true,{},X.xaxis,X.xaxes[aC])}for(aC=0;aC<Math.max(1,X.yaxes.length);++aC){X.yaxes[aC]=a.extend(true,{},X.yaxis,X.yaxes[aC])}if(X.xaxis.noTicks&&X.xaxis.ticks==null){X.xaxis.ticks=X.xaxis.noTicks}if(X.yaxis.noTicks&&X.yaxis.ticks==null){X.yaxis.ticks=X.yaxis.noTicks}if(X.x2axis){X.xaxes[1]=a.extend(true,{},X.xaxis,X.x2axis);X.xaxes[1].position="top"}if(X.y2axis){X.yaxes[1]=a.extend(true,{},X.yaxis,X.y2axis);X.yaxes[1].position="right"}if(X.grid.coloredAreas){X.grid.markings=X.grid.coloredAreas}if(X.grid.coloredAreasColor){X.grid.markingsColor=X.grid.coloredAreasColor}if(X.lines){a.extend(true,X.series.lines,X.lines)}if(X.points){a.extend(true,X.series.points,X.points)}if(X.bars){a.extend(true,X.series.bars,X.bars)}if(X.shadowSize!=null){X.series.shadowSize=X.shadowSize}for(aC=0;aC<X.xaxes.length;++aC){J(aA,aC+1).options=X.xaxes[aC]}for(aC=0;aC<X.yaxes.length;++aC){J(aB,aC+1).options=X.yaxes[aC]}for(var aD in M){if(X.hooks[aD]&&X.hooks[aD].length){M[aD]=M[aD].concat(X.hooks[aD])}}C(M.processOptions,[X])}function an(aC){am=aa(aC);E();ai()}function aa(aC){var aE=[];for(var aD=0;aD<aC.length;++aD){var aF=a.extend(true,{},X.series);if(aC[aD].data!=null){aF.data=aC[aD].data;delete aC[aD].data;a.extend(true,aF,aC[aD]);aC[aD].data=aF.data}else{aF.data=aC[aD]}aE.push(aF)}return aE}function g(aE,aD){var aC=aE[aD+"axis"];if(typeof aC=="object"){aC=aC.n}if(typeof aC!="number"){aC=1}return aC}function d(){return a.grep(aA.concat(aB),function(aC){return aC})}function m(aE){var aF={},aD,aC;for(aD=0;aD<aA.length;++aD){aC=aA[aD];if(aC&&aC.used){aF["x"+aC.n]=aC.c2p(aE.left)}}for(aD=0;aD<aB.length;++aD){aC=aB[aD];if(aC&&aC.used){aF["y"+aC.n]=aC.c2p(aE.top)}}if(aF.x1!==undefined){aF.x=aF.x1}if(aF.y1!==undefined){aF.y=aF.y1}return aF}function h(aF){var aG={},aD,aC,aE;for(aD=0;aD<aA.length;++aD){aC=aA[aD];if(aC&&aC.used){aE="x"+aC.n;if(aF[aE]==null&&aC.n==1){aE="x"}if(aF[aE]!=null){aG.left=aC.p2c(aF[aE]);break}}}for(aD=0;aD<aB.length;++aD){aC=aB[aD];if(aC&&aC.used){aE="y"+aC.n;if(aF[aE]==null&&aC.n==1){aE="y"}if(aF[aE]!=null){aG.top=aC.p2c(aF[aE]);break}}}return aG}function J(aC,aD){if(!aC[aD-1]){aC[aD-1]={n:aD,direction:aC==aA?"x":"y",options:a.extend(true,{},aC==aA?X.xaxis:X.yaxis)}}return aC[aD-1]}function E(){var aG;var aH=am.length,aM=[],aC=[];for(aG=0;aG<am.length;++aG){var aJ=am[aG].color;if(aJ!=null){--aH;if(typeof aJ=="number"){aC.push(aJ)}else{aM.push(a.color.parse(am[aG].color))}}}for(aG=0;aG<aC.length;++aG){aH=Math.max(aH,aC[aG]+1)}var aF=[],aO=0;aG=0;while(aF.length<aH){var aD;if(X.colors.length==aG){aD=a.color.make(100,100,100)}else{aD=a.color.parse(X.colors[aG])}var aL=aO%2==1?-1:1;aD.scale("rgb",1+aL*Math.ceil(aO/2)*0.2);aF.push(aD);++aG;if(aG>=X.colors.length){aG=0;++aO}}var aE=0,aI;for(aG=0;aG<am.length;++aG){aI=am[aG];if(aI.color==null){aI.color=aF[aE].toString();++aE}else{if(typeof aI.color=="number"){aI.color=aF[aI.color].toString()}}if(aI.lines.show==null){var aN,aK=true;for(aN in aI){if(aI[aN]&&aI[aN].show){aK=false;break}}if(aK){aI.lines.show=true}}aI.xaxis=J(aA,g(aI,"x"));aI.yaxis=J(aB,g(aI,"y"))}}function ai(){var aT=Number.POSITIVE_INFINITY,aD=Number.NEGATIVE_INFINITY,aH=Number.MAX_VALUE,aJ,aK,aL,aN,aM,aS,aQ,aR,aW,aZ,aC,aV,aG,aP;function aU(a2,a4,a3){if(a4<a2.datamin&&a4!=-aH){a2.datamin=a4}if(a3>a2.datamax&&a3!=aH){a2.datamax=a3}}a.each(d(),function(a2,a3){a3.datamin=aT;a3.datamax=aD;a3.used=false});for(aJ=0;aJ<am.length;++aJ){aS=am[aJ];aS.datapoints={points:[]};C(M.processRawData,[aS,aS.data,aS.datapoints])}for(aJ=0;aJ<am.length;++aJ){aS=am[aJ];var aE=aS.data,aI=aS.datapoints.format;if(!aI){aI=[];aI.push({x:true,number:true,required:true});aI.push({y:true,number:true,required:true});if(aS.bars.show||(aS.lines.show&&aS.lines.fill)){aI.push({y:true,number:true,required:false,defaultValue:0});if(aS.bars.horizontal){delete aI[aI.length-1].y;aI[aI.length-1].x=true}}aS.datapoints.format=aI}if(aS.datapoints.pointsize!=null){continue}aS.datapoints.pointsize=aI.length;aR=aS.datapoints.pointsize;aQ=aS.datapoints.points;insertSteps=aS.lines.show&&aS.lines.steps;aS.xaxis.used=aS.yaxis.used=true;for(aK=aL=0;aK<aE.length;++aK,aL+=aR){aP=aE[aK];var aO=aP==null;if(!aO){for(aN=0;aN<aR;++aN){aV=aP[aN];aG=aI[aN];if(aG){if(aG.number&&aV!=null){aV=+aV;if(isNaN(aV)){aV=null}else{if(aV==Infinity){aV=aH}else{if(aV==-Infinity){aV=-aH}}}}if(aV==null){if(aG.required){aO=true}if(aG.defaultValue!=null){aV=aG.defaultValue}}}aQ[aL+aN]=aV}}if(aO){for(aN=0;aN<aR;++aN){aV=aQ[aL+aN];if(aV!=null){aG=aI[aN];if(aG.x){aU(aS.xaxis,aV,aV)}if(aG.y){aU(aS.yaxis,aV,aV)}}aQ[aL+aN]=null}}else{if(insertSteps&&aL>0&&aQ[aL-aR]!=null&&aQ[aL-aR]!=aQ[aL]&&aQ[aL-aR+1]!=aQ[aL+1]){for(aN=0;aN<aR;++aN){aQ[aL+aR+aN]=aQ[aL+aN]}aQ[aL+1]=aQ[aL-aR+1];aL+=aR}}}}for(aJ=0;aJ<am.length;++aJ){aS=am[aJ];C(M.processDatapoints,[aS,aS.datapoints])}for(aJ=0;aJ<am.length;++aJ){aS=am[aJ];aQ=aS.datapoints.points,aR=aS.datapoints.pointsize;var aY=aT,a1=aT,aX=aD,a0=aD;for(aK=0;aK<aQ.length;aK+=aR){if(aQ[aK]==null){continue}for(aN=0;aN<aR;++aN){aV=aQ[aK+aN];aG=aI[aN];if(!aG||aV==aH||aV==-aH){continue}if(aG.x){if(aV<aY){aY=aV}if(aV>aX){aX=aV}}if(aG.y){if(aV<a1){a1=aV}if(aV>a0){a0=aV}}}}if(aS.bars.show){var aF=aS.bars.align=="left"?0:-aS.bars.barWidth/2;if(aS.bars.horizontal){a1+=aF;a0+=aF+aS.bars.barWidth}else{aY+=aF;aX+=aF+aS.bars.barWidth}}aU(aS.xaxis,aY,aX);aU(aS.yaxis,a1,a0)}a.each(d(),function(a2,a3){if(a3.datamin==aT){a3.datamin=null}if(a3.datamax==aD){a3.datamax=null}})}function R(aE,aD){var aC=document.createElement("canvas");aC.className=aD;aC.width=n;aC.height=l;if(!aE){a(aC).css({position:"absolute",left:0,top:0})}a(aC).appendTo(ac);if(al){aC.width=n*2;aC.height=l*2;aC.style.width=""+n+"px";aC.style.height=""+l+"px"}if(!aC.getContext){aC=window.G_vmlCanvasManager.initElement(aC)}aC.getContext("2d").save();if(al){aC.getContext("2d").scale(2,2)}return aC}function G(){n=ac.width();l=ac.height();if(n<=0||l<=0){throw"Invalid dimensions for plot, width = "+n+", height = "+l}}function ak(aC){if(aC.width!=n){aC.width=n;if(al){aC.width=n*2}aC.style.width=""+n+"px"}if(aC.height!=l){aC.height=l;if(al){aC.height=l*2}aC.style.height=""+l+"px"}var aD=aC.getContext("2d");aD.restore();aD.save();if(al){aD.scale(2,2)}}function ar(){var aE,aC=ac.children("canvas.base"),aD=ac.children("canvas.overlay");if(aC.length==0||aD==0){ac.html("");ac.css({padding:0});if(ac.css("position")=="static"){ac.css("position","relative")}G();k=R(true,"base");Z=R(false,"overlay");aE=false}else{k=aC.get(0);Z=aD.get(0);aE=true}o=k.getContext("2d");T=Z.getContext("2d");B=a([Z,k]);if(aE){ac.data("plot").shutdown();ad.resize();T.clearRect(0,0,n,l);B.unbind();ac.children().not([k,Z]).remove()}ac.data("plot",ad)}function j(){if(X.grid.hoverable){B.mousemove(W);B.mouseleave(V)}if(X.grid.clickable){B.click(U)}C(M.bindEvents,[B])}function av(){if(aj){clearTimeout(aj)}B.unbind("mousemove",W);B.unbind("mouseleave",V);B.unbind("click",U);C(M.shutdown,[B])}function aq(aC){function aD(aI){return aI}var aG,aF,aH=aC.options.transform||aD,aE=aC.options.inverseTransform;if(aC.direction=="x"){aG=aC.scale=ag/Math.abs(aH(aC.max)-aH(aC.min));aF=Math.min(aH(aC.max),aH(aC.min))}else{aG=aC.scale=ae/Math.abs(aH(aC.max)-aH(aC.min));aG=-aG;aF=Math.max(aH(aC.max),aH(aC.min))}if(aH==aD){aC.p2c=function(aI){return(aI-aF)*aG}}else{aC.p2c=function(aI){return(aH(aI)-aF)*aG}}if(!aE){aC.c2p=function(aI){return aF+aI/aG}}else{aC.c2p=function(aI){return aE(aF+aI/aG)}}}function S(aC){var aJ=aC.options,aF,aK=aC.ticks||[],aH=[],aG,aL=aJ.labelWidth,aE=aJ.labelHeight,aD;function aI(aM,aN){return a('<div style="position:absolute;top:-10000px;'+aN+'font-size:smaller">'+'<div class="'+aC.direction+"Axis "+aC.direction+aC.n+'Axis">'+aM.join("")+"</div></div>").appendTo(ac)}if(aC.direction=="x"){if(aL==null){aL=Math.floor(n/(aK.length>0?aK.length:1))}if(aE==null){aH=[];for(aF=0;aF<aK.length;++aF){aG=aK[aF].label;if(aG){aH.push('<div class="tickLabel" style="float:left;width:'+aL+'px">'+aG+"</div>")}}if(aH.length>0){aH.push('<div style="clear:left"></div>');aD=aI(aH,"width:10000px;");aE=aD.height();aD.remove()}}}else{if(aL==null||aE==null){for(aF=0;aF<aK.length;++aF){aG=aK[aF].label;if(aG){aH.push('<div class="tickLabel">'+aG+"</div>")}}if(aH.length>0){aD=aI(aH,"");if(aL==null){aL=aD.children().width()}if(aE==null){aE=aD.find("div.tickLabel").height()}aD.remove()}}}if(aL==null){aL=0}if(aE==null){aE=0}aC.labelWidth=aL;aC.labelHeight=aE}function e(aD){var aI=aD.labelWidth,aH=aD.labelHeight,aK=aD.options.position,aN=aD.options.tickLength,aE=X.grid.axisMargin,aJ=X.grid.labelMargin,aC=aD.direction=="x"?aA:aB,aF;var aM=a.grep(aC,function(aO){return aO&&aO.options.position==aK&&aO.reserveSpace});if(a.inArray(aD,aM)==aM.length-1){aE=0}if(aN==null){aN="full"}var aL=a.grep(aC,function(aO){return aO&&aO.reserveSpace});var aG=a.inArray(aD,aL)==0;if(!aG&&aN=="full"){aN=5}if(!isNaN(+aN)){aJ+=+aN}if(aD.direction=="x"){aH+=aJ;if(aK=="bottom"){af.bottom+=aH+aE;aD.box={top:l-af.bottom,height:aH}}else{aD.box={top:af.top+aE,height:aH};af.top+=aH+aE}}else{aI+=aJ;if(aK=="left"){aD.box={left:af.left+aE,width:aI};af.left+=aI+aE}else{af.right+=aI+aE;aD.box={left:n-af.right,width:aI}}}aD.position=aK;aD.tickLength=aN;aD.box.padding=aJ;aD.innermost=aG}function f(aC){if(aC.direction=="x"){aC.box.left=af.left;aC.box.width=ag}else{aC.box.top=af.top;aC.box.height=ae}}function at(){var aE,aD=d();a.each(aD,function(aG,aH){aH.show=aH.options.show;if(aH.show==null){aH.show=aH.used}aH.reserveSpace=aH.show||aH.options.reserveSpace;ao(aH)});allocatedAxes=a.grep(aD,function(aG){return aG.reserveSpace});af.left=af.right=af.top=af.bottom=0;if(X.grid.show){a.each(allocatedAxes,function(aG,aH){au(aH);ap(aH);aw(aH,aH.ticks);S(aH)});for(aE=allocatedAxes.length-1;aE>=0;--aE){e(allocatedAxes[aE])}var aF=X.grid.minBorderMargin;if(aF==null){aF=0;for(aE=0;aE<am.length;++aE){aF=Math.max(aF,am[aE].points.radius+am[aE].points.lineWidth/2)}}for(var aC in af){af[aC]+=X.grid.borderWidth;af[aC]=Math.max(aF,af[aC])}}ag=n-af.left-af.right;ae=l-af.bottom-af.top;a.each(aD,function(aG,aH){aq(aH)});if(X.grid.show){a.each(allocatedAxes,function(aG,aH){f(aH)});P()}Q()}function ao(aC){var aH=aC.options,aG=+(aH.min!=null?aH.min:aC.datamin),aF=+(aH.max!=null?aH.max:aC.datamax),aD=aF-aG;if(aD==0){var aI=aF==0?1:0.01;if(aH.min==null){aG-=aI}if(aH.max==null||aH.min!=null){aF+=aI}}else{var aE=aH.autoscaleMargin;if(aE!=null){if(aH.min==null){aG-=aD*aE;if(aG<0&&aC.datamin!=null&&aC.datamin>=0){aG=0}}if(aH.max==null){aF+=aD*aE;if(aF>0&&aC.datamax!=null&&aC.datamax<=0){aF=0}}}}aC.min=aG;aC.max=aF}function au(aC){var aP=aC.options;var aO;if(typeof aP.ticks=="number"&&aP.ticks>0){aO=aP.ticks}else{aO=0.3*Math.sqrt(aC.direction=="x"?n:l)}var aE=(aC.max-aC.min)/aO,aR,aH,aV,aG,aI,aJ,aN;if(aP.mode=="time"){var aT={"second":1000,"minute":60*1000,"hour":60*60*1000,"day":24*60*60*1000,"month":30*24*60*60*1000,"year":365.2425*24*60*60*1000};var aS=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aL=0;if(aP.minTickSize!=null){if(typeof aP.tickSize=="number"){aL=aP.tickSize}else{aL=aP.minTickSize[0]*aT[aP.minTickSize[1]]}}for(var aI=0;aI<aS.length-1;++aI){if(aE<(aS[aI][0]*aT[aS[aI][1]]+aS[aI+1][0]*aT[aS[aI+1][1]])/2&&aS[aI][0]*aT[aS[aI][1]]>=aL){break}}aR=aS[aI][0];aV=aS[aI][1];if(aV=="year"){aJ=Math.pow(10,Math.floor(Math.log(aE/aT.year)/Math.LN10));aN=(aE/aT.year)/aJ;if(aN<1.5){aR=1}else{if(aN<3){aR=2}else{if(aN<7.5){aR=5}else{aR=10}}}aR*=aJ}aC.tickSize=aP.tickSize||[aR,aV];aH=function(aW){var a3=[],a4=aW.tickSize[0],a5=aW.tickSize[1],aY=new Date(aW.min);var a2=a4*aT[a5];if(a5=="second"){aY.setUTCSeconds(b(aY.getUTCSeconds(),a4))}if(a5=="minute"){aY.setUTCMinutes(b(aY.getUTCMinutes(),a4))}if(a5=="hour"){aY.setUTCHours(b(aY.getUTCHours(),a4))}if(a5=="month"){aY.setUTCMonth(b(aY.getUTCMonth(),a4))}if(a5=="year"){aY.setUTCFullYear(b(aY.getUTCFullYear(),a4))}aY.setUTCMilliseconds(0);if(a2>=aT.minute){aY.setUTCSeconds(0)}if(a2>=aT.hour){aY.setUTCMinutes(0)}if(a2>=aT.day){aY.setUTCHours(0)}if(a2>=aT.day*4){aY.setUTCDate(1)}if(a2>=aT.year){aY.setUTCMonth(0)}var aX=0,a6=Number.NaN,a0;do{a0=a6;a6=aY.getTime();a3.push(a6);if(a5=="month"){if(a4<1){aY.setUTCDate(1);var a1=aY.getTime();aY.setUTCMonth(aY.getUTCMonth()+1);var aZ=aY.getTime();aY.setTime(a6+aX*aT.hour+(aZ-a1)*a4);aX=aY.getUTCHours();aY.setUTCHours(0)}else{aY.setUTCMonth(aY.getUTCMonth()+a4)}}else{if(a5=="year"){aY.setUTCFullYear(aY.getUTCFullYear()+a4)}else{aY.setTime(a6+a2)}}}while(a6<aW.max&&a6!=a0);return a3};aG=function(a1,aW){var aX=new Date(a1);if(aP.timeformat!=null){return a.plot.formatDate(aX,aP.timeformat,aP.monthNames)}var a0=aW.tickSize[0]*aT[aW.tickSize[1]];var aY=aW.max-aW.min;var aZ=(aP.twelveHourClock)?" %p":"";if(a0<aT.minute){fmt="%h:%M:%S"+aZ}else{if(a0<aT.day){if(aY<2*aT.day){fmt="%h:%M"+aZ}else{fmt="%b %d %h:%M"+aZ}}else{if(a0<aT.month){fmt="%b %d"}else{if(a0<aT.year){if(aY<aT.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return a.plot.formatDate(aX,fmt,aP.monthNames)}}else{var aK=aP.tickDecimals;var aD=-Math.floor(Math.log(aE)/Math.LN10);if(aK!=null&&aD>aK){aD=aK}aJ=Math.pow(10,-aD);aN=aE/aJ;if(aN<1.5){aR=1}else{if(aN<3){aR=2;if(aN>2.25&&(aK==null||aD+1<=aK)){aR=2.5;++aD}}else{if(aN<7.5){aR=5}else{aR=10}}}aR*=aJ;if(aP.minTickSize!=null&&aR<aP.minTickSize){aR=aP.minTickSize}aC.tickDecimals=Math.max(0,aK!=null?aK:aD);aC.tickSize=aP.tickSize||aR;aH=function(aW){var a0=[];var aZ=b(aW.min,aW.tickSize),aX=0,a1=Number.NaN,aY;do{aY=a1;a1=aZ+aX*aW.tickSize;a0.push(a1);++aX}while(a1<aW.max&&a1!=aY);return a0};aG=function(aX,aW){return aX.toFixed(aW.tickDecimals)}}if(aP.alignTicksWithAxis!=null){var aQ=(aC.direction=="x"?aA:aB)[aP.alignTicksWithAxis-1];if(aQ&&aQ.used&&aQ!=aC){var aM=aH(aC);if(aM.length>0){if(aP.min==null){aC.min=Math.min(aC.min,aM[0])}if(aP.max==null&&aM.length>1){aC.max=Math.max(aC.max,aM[aM.length-1])}}aH=function(aW){var aY=[],aZ,aX;for(aX=0;aX<aQ.ticks.length;++aX){aZ=(aQ.ticks[aX].v-aQ.min)/(aQ.max-aQ.min);aZ=aW.min+aZ*(aW.max-aW.min);aY.push(aZ)}return aY};if(aC.mode!="time"&&aP.tickDecimals==null){var aF=Math.max(0,-Math.floor(Math.log(aE)/Math.LN10)+1),aU=aH(aC);if(!(aU.length>1&&/\..*0$/.test((aU[1]-aU[0]).toFixed(aF)))){aC.tickDecimals=aF}}}}aC.tickGenerator=aH;if(a.isFunction(aP.tickFormatter)){aC.tickFormatter=function(aX,aW){return""+aP.tickFormatter(aX,aW)}}else{aC.tickFormatter=aG}}function ap(aC){var aF=aC.options.ticks,aH=[];if(aF==null||(typeof aF=="number"&&aF>0)){aH=aC.tickGenerator(aC)}else{if(aF){if(a.isFunction(aF)){aH=aF({min:aC.min,max:aC.max})}else{aH=aF}}}var aD,aI;aC.ticks=[];for(aD=0;aD<aH.length;++aD){var aE=null;var aG=aH[aD];if(typeof aG=="object"){aI=+aG[0];if(aG.length>1){aE=aG[1]}}else{aI=+aG}if(aE==null){aE=aC.tickFormatter(aI,aC)}if(!isNaN(aI)){aC.ticks.push({v:aI,label:aE})}}}function aw(aC,aD){if(aC.options.autoscaleMargin&&aD.length>0){if(aC.options.min==null){aC.min=Math.min(aC.min,aD[0].v)}if(aC.options.max==null&&aD.length>1){aC.max=Math.max(aC.max,aD[aD.length-1].v)}}}function q(){o.clearRect(0,0,n,l);var aC=X.grid;if(aC.show&&aC.backgroundColor){r()}if(aC.show&&!aC.aboveData){u()}for(var aD=0;aD<am.length;++aD){C(M.drawSeries,[o,am[aD]]);x(am[aD])}C(M.draw,[o]);if(aC.show&&aC.aboveData){u()}}function D(aH,aE){var aD,aF,aJ,aG,aC=d();for(i=0;i<aC.length;++i){aD=aC[i];if(aD.direction==aE){aG=aE+aD.n+"axis";if(!aH[aG]&&aD.n==1){aG=aE+"axis"}if(aH[aG]){aF=aH[aG].from;aJ=aH[aG].to;break}}}if(!aH[aG]){aD=aE=="x"?aA[0]:aB[0];aF=aH[aE+"1"];aJ=aH[aE+"2"]}if(aF!=null&&aJ!=null&&aF>aJ){var aI=aF;aF=aJ;aJ=aI}return{from:aF,to:aJ,axis:aD}}function r(){o.save();o.translate(af.left,af.top);o.fillStyle=H(X.grid.backgroundColor,ae,0,"rgba(255, 255, 255, 0)");o.fillRect(0,0,ag,ae);o.restore()}function u(){var aG;o.save();o.translate(af.left,af.top);var aJ=X.grid.markings;if(aJ){if(a.isFunction(aJ)){var aC=ad.getAxes();aC.xmin=aC.xaxis.min;aC.xmax=aC.xaxis.max;aC.ymin=aC.yaxis.min;aC.ymax=aC.yaxis.max;aJ=aJ(aC)}for(aG=0;aG<aJ.length;++aG){var aI=aJ[aG],aO=D(aI,"x"),aR=D(aI,"y");if(aO.from==null){aO.from=aO.axis.min}if(aO.to==null){aO.to=aO.axis.max}if(aR.from==null){aR.from=aR.axis.min}if(aR.to==null){aR.to=aR.axis.max}if(aO.to<aO.axis.min||aO.from>aO.axis.max||aR.to<aR.axis.min||aR.from>aR.axis.max){continue}aO.from=Math.max(aO.from,aO.axis.min);aO.to=Math.min(aO.to,aO.axis.max);aR.from=Math.max(aR.from,aR.axis.min);aR.to=Math.min(aR.to,aR.axis.max);if(aO.from==aO.to&&aR.from==aR.to){continue}aO.from=aO.axis.p2c(aO.from);aO.to=aO.axis.p2c(aO.to);aR.from=aR.axis.p2c(aR.from);aR.to=aR.axis.p2c(aR.to);if(aO.from==aO.to||aR.from==aR.to){o.beginPath();o.strokeStyle=aI.color||X.grid.markingsColor;o.lineWidth=aI.lineWidth||X.grid.markingsLineWidth;o.moveTo(aO.from,aR.from);o.lineTo(aO.to,aR.to);o.stroke()}else{o.fillStyle=aI.color||X.grid.markingsColor;o.fillRect(aO.from,aR.to,aO.to-aO.from,aR.from-aR.to)}}}var aC=d(),aF=X.grid.borderWidth;for(var aH=0;aH<aC.length;++aH){var aD=aC[aH],aE=aD.box,aK=aD.tickLength,aM,aP,aN,aQ;if(!aD.show||aD.ticks.length==0){continue}o.strokeStyle=aD.options.tickColor||a.color.parse(aD.options.color).scale("a",0.22).toString();o.lineWidth=1;if(aD.direction=="x"){aM=0;if(aK=="full"){aP=(aD.position=="top"?0:ae)}else{aP=aE.top-af.top+(aD.position=="top"?aE.height:0)}}else{aP=0;if(aK=="full"){aM=(aD.position=="left"?0:ag)}else{aM=aE.left-af.left+(aD.position=="left"?aE.width:0)}}if(!aD.innermost){o.beginPath();aN=aQ=0;if(aD.direction=="x"){aN=ag}else{aQ=ae}if(o.lineWidth==1){aM=Math.floor(aM)+0.5;aP=Math.floor(aP)+0.5}o.moveTo(aM,aP);o.lineTo(aM+aN,aP+aQ);o.stroke()}o.beginPath();for(aG=0;aG<aD.ticks.length;++aG){var aL=aD.ticks[aG].v;aN=aQ=0;if(aL<aD.min||aL>aD.max||(aK=="full"&&aF>0&&(aL==aD.min||aL==aD.max))){continue}if(aD.direction=="x"){aM=aD.p2c(aL);aQ=aK=="full"?-ae:aK;if(aD.position=="top"){aQ=-aQ}}else{aP=aD.p2c(aL);aN=aK=="full"?-ag:aK;if(aD.position=="left"){aN=-aN}}if(o.lineWidth==1){if(aD.direction=="x"){aM=Math.floor(aM)+0.5}else{aP=Math.floor(aP)+0.5}}o.moveTo(aM,aP);o.lineTo(aM+aN,aP+aQ)}o.stroke()}if(aF){o.lineWidth=aF;o.strokeStyle=X.grid.borderColor;o.strokeRect(-aF/2,-aF/2,ag+aF,ae+aF)}o.restore()}function P(){ac.find(".tickLabels").remove();var aH=['<div class="tickLabels" style="font-size:smaller">'];var aE=d();for(var aJ=0;aJ<aE.length;++aJ){var aF=aE[aJ],aG=aF.box;if(!aF.show){continue}aH.push('<div class="'+aF.direction+"Axis "+aF.direction+aF.n+'Axis" style="color:'+aF.options.color+'">');for(var aI=0;aI<aF.ticks.length;++aI){var aM=aF.ticks[aI];if(!aM.label||aM.v<aF.min||aM.v>aF.max){continue}var aK={},aD;if(aF.direction=="x"){aD="center";aK.left=Math.round(af.left+aF.p2c(aM.v)-aF.labelWidth/2);if(aF.position=="bottom"){aK.top=aG.top+aG.padding}else{aK.bottom=l-(aG.top+aG.height-aG.padding)}}else{aK.top=Math.round(af.top+aF.p2c(aM.v)-aF.labelHeight/2);if(aF.position=="left"){aK.right=n-(aG.left+aG.width-aG.padding);aD="right"}else{aK.left=aG.left+aG.padding;aD="left"}}aK.width=aF.labelWidth;var aL=["position:absolute","text-align:"+aD];for(var aC in aK){aL.push(aC+":"+aK[aC]+"px")}aH.push('<div class="tickLabel" style="'+aL.join(";")+'">'+aM.label+"</div>")}aH.push("</div>")}aH.push("</div>");ac.append(aH.join(""))}function x(aC){if(aC.lines.show){z(aC)}if(aC.bars.show){y(aC)}if(aC.points.show){A(aC)}}function z(aH){function aF(aL,aT,aW,aJ,aK){var aN=aL.points,aQ=aL.pointsize,aO=null,aP=null;o.beginPath();for(var aM=aQ;aM<aN.length;aM+=aQ){var aR=aN[aM-aQ],aU=aN[aM-aQ+1],aS=aN[aM],aV=aN[aM+1];if(aR==null||aS==null){continue}if(aU<=aV&&aU<aK.min){if(aV<aK.min){continue}aR=(aK.min-aU)/(aV-aU)*(aS-aR)+aR;aU=aK.min}else{if(aV<=aU&&aV<aK.min){if(aU<aK.min){continue}aS=(aK.min-aU)/(aV-aU)*(aS-aR)+aR;aV=aK.min}}if(aU>=aV&&aU>aK.max){if(aV>aK.max){continue}aR=(aK.max-aU)/(aV-aU)*(aS-aR)+aR;aU=aK.max}else{if(aV>=aU&&aV>aK.max){if(aU>aK.max){continue}aS=(aK.max-aU)/(aV-aU)*(aS-aR)+aR;aV=aK.max}}if(aR<=aS&&aR<aJ.min){if(aS<aJ.min){continue}aU=(aJ.min-aR)/(aS-aR)*(aV-aU)+aU;aR=aJ.min}else{if(aS<=aR&&aS<aJ.min){if(aR<aJ.min){continue}aV=(aJ.min-aR)/(aS-aR)*(aV-aU)+aU;aS=aJ.min}}if(aR>=aS&&aR>aJ.max){if(aS>aJ.max){continue}aU=(aJ.max-aR)/(aS-aR)*(aV-aU)+aU;aR=aJ.max}else{if(aS>=aR&&aS>aJ.max){if(aR>aJ.max){continue}aV=(aJ.max-aR)/(aS-aR)*(aV-aU)+aU;aS=aJ.max}}if(aR!=aO||aU!=aP){o.moveTo(aJ.p2c(aR)+aT,aK.p2c(aU)+aW)}aO=aS;aP=aV;o.lineTo(aJ.p2c(aS)+aT,aK.p2c(aV)+aW)}o.stroke()}function aG(aN,aK,aL){var aP=aN.points,aQ=aN.pointsize,aM=Math.min(Math.max(0,aL.min),aL.max),aO=0,aT,aJ=false,a0=1,aS=0,aR=0;while(true){if(aQ>0&&aO>aP.length+aQ){break}aO+=aQ;var aU=aP[aO-aQ],aY=aP[aO-aQ+a0],aW=aP[aO],aZ=aP[aO+a0];if(aJ){if(aQ>0&&aU!=null&&aW==null){aR=aO;aQ=-aQ;a0=2;continue}if(aQ<0&&aO==aS+aQ){o.fill();aJ=false;aQ=-aQ;a0=1;aO=aS=aR+aQ;continue}}if(aU==null||aW==null){continue}if(aU<=aW&&aU<aK.min){if(aW<aK.min){continue}aY=(aK.min-aU)/(aW-aU)*(aZ-aY)+aY;aU=aK.min}else{if(aW<=aU&&aW<aK.min){if(aU<aK.min){continue}aZ=(aK.min-aU)/(aW-aU)*(aZ-aY)+aY;aW=aK.min}}if(aU>=aW&&aU>aK.max){if(aW>aK.max){continue}aY=(aK.max-aU)/(aW-aU)*(aZ-aY)+aY;aU=aK.max}else{if(aW>=aU&&aW>aK.max){if(aU>aK.max){continue}aZ=(aK.max-aU)/(aW-aU)*(aZ-aY)+aY;aW=aK.max}}if(!aJ){o.beginPath();o.moveTo(aK.p2c(aU),aL.p2c(aM));aJ=true}if(aY>=aL.max&&aZ>=aL.max){o.lineTo(aK.p2c(aU),aL.p2c(aL.max));o.lineTo(aK.p2c(aW),aL.p2c(aL.max));continue}else{if(aY<=aL.min&&aZ<=aL.min){o.lineTo(aK.p2c(aU),aL.p2c(aL.min));o.lineTo(aK.p2c(aW),aL.p2c(aL.min));continue}}var aV=aU,aX=aW;if(aY<=aZ&&aY<aL.min&&aZ>=aL.min){aU=(aL.min-aY)/(aZ-aY)*(aW-aU)+aU;aY=aL.min}else{if(aZ<=aY&&aZ<aL.min&&aY>=aL.min){aW=(aL.min-aY)/(aZ-aY)*(aW-aU)+aU;aZ=aL.min}}if(aY>=aZ&&aY>aL.max&&aZ<=aL.max){aU=(aL.max-aY)/(aZ-aY)*(aW-aU)+aU;aY=aL.max}else{if(aZ>=aY&&aZ>aL.max&&aY<=aL.max){aW=(aL.max-aY)/(aZ-aY)*(aW-aU)+aU;aZ=aL.max}}if(aU!=aV){o.lineTo(aK.p2c(aV),aL.p2c(aY))}o.lineTo(aK.p2c(aU),aL.p2c(aY));o.lineTo(aK.p2c(aW),aL.p2c(aZ));if(aW!=aX){o.lineTo(aK.p2c(aW),aL.p2c(aZ));o.lineTo(aK.p2c(aX),aL.p2c(aZ))}}}o.save();o.translate(af.left,af.top);o.lineJoin="round";var aE=aH.lines.lineWidth,aI=aH.shadowSize;if(aE>0&&aI>0){o.lineWidth=aI;o.strokeStyle="rgba(0,0,0,0.1)";var aC=Math.PI/18;aF(aH.datapoints,Math.sin(aC)*(aE/2+aI/2),Math.cos(aC)*(aE/2+aI/2),aH.xaxis,aH.yaxis);o.lineWidth=aI/2;aF(aH.datapoints,Math.sin(aC)*(aE/2+aI/4),Math.cos(aC)*(aE/2+aI/4),aH.xaxis,aH.yaxis)}o.lineWidth=aE;o.strokeStyle=aH.color;var aD=I(aH.lines,aH.color,0,ae);if(aD){o.fillStyle=aD;aG(aH.datapoints,aH.xaxis,aH.yaxis)}if(aE>0){aF(aH.datapoints,0,0,aH.xaxis,aH.yaxis)}o.restore()}function A(aF){function aD(aL,aR,aM,aO,aS,aJ,aK,aT){var aP=aL.points,aQ=aL.pointsize;for(var aN=0;aN<aP.length;aN+=aQ){var aU=aP[aN],aV=aP[aN+1];if(aU==null||aU<aJ.min||aU>aJ.max||aV<aK.min||aV>aK.max){continue}o.beginPath();aU=aJ.p2c(aU);aV=aK.p2c(aV)+aO;if(aT=="circle"){o.arc(aU,aV,aR,0,aS?Math.PI:Math.PI*2,false)}else{aT(o,aU,aV,aR,aS)}o.closePath();if(aM){o.fillStyle=aM;o.fill()}o.stroke()}}o.save();o.translate(af.left,af.top);var aC=aF.points.lineWidth,aG=aF.shadowSize,aE=aF.points.radius,aH=aF.points.symbol;if(aC>0&&aG>0){var aI=aG/2;o.lineWidth=aI;o.strokeStyle="rgba(0,0,0,0.1)";aD(aF.datapoints,aE,null,aI+aI/2,true,aF.xaxis,aF.yaxis,aH);o.strokeStyle="rgba(0,0,0,0.2)";aD(aF.datapoints,aE,null,aI/2,true,aF.xaxis,aF.yaxis,aH)}o.lineWidth=aC;o.strokeStyle=aF.color;aD(aF.datapoints,aE,I(aF.points,aF.color),0,false,aF.xaxis,aF.yaxis,aH);o.restore()}function s(aV,aW,aE,aF,aG,aR,aN,aC,aD,aI,aO,aQ){var aP,aS,aH,aU,aK,aL,aM,aJ,aT;if(aO){aJ=aL=aM=true;aK=false;aP=aE;aS=aV;aU=aW+aF;aH=aW+aG;if(aS<aP){aT=aS;aS=aP;aP=aT;aK=true;aL=false}}else{aK=aL=aM=true;aJ=false;aP=aV+aF;aS=aV+aG;aH=aE;aU=aW;if(aU<aH){aT=aU;aU=aH;aH=aT;aJ=true;aM=false}}if(aS<aC.min||aP>aC.max||aU<aD.min||aH>aD.max){return}if(aP<aC.min){aP=aC.min;aK=false}if(aS>aC.max){aS=aC.max;aL=false}if(aH<aD.min){aH=aD.min;aJ=false}if(aU>aD.max){aU=aD.max;aM=false}aP=aC.p2c(aP);aH=aD.p2c(aH);aS=aC.p2c(aS);aU=aD.p2c(aU);if(aN){aI.beginPath();aI.moveTo(aP,aH);aI.lineTo(aP,aU);aI.lineTo(aS,aU);aI.lineTo(aS,aH);aI.fillStyle=aN(aH,aU);aI.fill()}if(aQ>0&&(aK||aL||aM||aJ)){aI.beginPath();aI.moveTo(aP,aH+aR);if(aK){aI.lineTo(aP,aU+aR)}else{aI.moveTo(aP,aU+aR)}if(aM){aI.lineTo(aS,aU+aR)}else{aI.moveTo(aS,aU+aR)}if(aL){aI.lineTo(aS,aH+aR)}else{aI.moveTo(aS,aH+aR)}if(aJ){aI.lineTo(aP,aH+aR)}else{aI.moveTo(aP,aH+aR)}aI.stroke()}}function y(aF){function aE(aK,aI,aJ,aN,aL,aG,aH){var aO=aK.points,aP=aK.pointsize;for(var aM=0;aM<aO.length;aM+=aP){if(aO[aM]==null){continue}s(aO[aM],aO[aM+1],aO[aM+2],aI,aJ,aN,aL,aG,aH,o,aF.bars.horizontal,aF.bars.lineWidth)}}o.save();o.translate(af.left,af.top);o.lineWidth=aF.bars.lineWidth;o.strokeStyle=aF.color;var aC=aF.bars.align=="left"?0:-aF.bars.barWidth/2;var aD=aF.bars.fill?function(aG,aH){return I(aF.bars,aF.color,aG,aH)}:null;aE(aF.datapoints,aC,aC+aF.bars.barWidth,0,aD,aF.xaxis,aF.yaxis);o.restore()}function I(aF,aG,aC,aH){var aE=aF.fill;if(!aE){return null}if(aF.fillColor){return H(aF.fillColor,aC,aH,aG)}var aD=a.color.parse(aG);aD.a=typeof aE=="number"?aE:0.4;aD.normalize();return aD.toString()}function Q(){ac.find(".legend").remove();if(!X.legend.show){return}var aE=[],aM=false,aI=X.legend.labelFormatter,aN,aG;for(var aF=0;aF<am.length;++aF){aN=am[aF];aG=aN.label;if(!aG){continue}if(aF%X.legend.noColumns==0){if(aM){aE.push("</tr>")}aE.push("<tr>");aM=true}if(aI){aG=aI(aG,aN)}aE.push('<td class="legendColorBox"><div style="border:1px solid '+X.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aN.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+aG+"</td>")}if(aM){aE.push("</tr>")}if(aE.length==0){return}var aO='<table style="font-size:smaller;color:'+X.grid.color+'">'+aE.join("")+"</table>";if(X.legend.container!=null){a(X.legend.container).html(aO)}else{var aL="",aK=X.legend.position,aJ=X.legend.margin;if(aJ[0]==null){aJ=[aJ,aJ]}if(aK.charAt(0)=="n"){aL+="top:"+(aJ[1]+af.top)+"px;"}else{if(aK.charAt(0)=="s"){aL+="bottom:"+(aJ[1]+af.bottom)+"px;"}}if(aK.charAt(1)=="e"){aL+="right:"+(aJ[0]+af.right)+"px;"}else{if(aK.charAt(1)=="w"){aL+="left:"+(aJ[0]+af.left)+"px;"}}var aH=a('<div class="legend">'+aO.replace('style="','style="position:absolute;'+aL+";")+"</div>").appendTo(ac);if(X.legend.backgroundOpacity!=0){var aC=X.legend.backgroundColor;if(aC==null){aC=X.grid.backgroundColor;if(aC&&typeof aC=="string"){aC=a.color.parse(aC)}else{aC=a.color.extract(aH,"background-color")}aC.a=1;aC=aC.toString()}var aD=aH.children();a('<div style="position:absolute;width:'+aD.width()+"px;height:"+aD.height()+"px;"+aL+"background-color:"+aC+';"> </div>').prependTo(aH).css("opacity",X.legend.backgroundOpacity)}}}var L=[],aj=null;function F(aR,aS,aY){var aO=X.grid.mouseActiveRadius,aZ=aO*aO+1,aM=null,aK=false,aL,aN;for(aL=am.length-1;aL>=0;--aL){if(!aY(am[aL])){continue}var aX=am[aL],aC=aX.xaxis,aD=aX.yaxis,aV=aX.datapoints.points,aW=aX.datapoints.pointsize,aT=aC.c2p(aR),aU=aD.c2p(aS),aP=aO/aC.scale,aQ=aO/aD.scale;if(aC.options.inverseTransform){aP=Number.MAX_VALUE}if(aD.options.inverseTransform){aQ=Number.MAX_VALUE}if(aX.lines.show||aX.points.show){for(aN=0;aN<aV.length;aN+=aW){var a0=aV[aN],a1=aV[aN+1];if(a0==null){continue}if(a0-aT>aP||a0-aT<-aP||a1-aU>aQ||a1-aU<-aQ){continue}var aI=Math.abs(aC.p2c(a0)-aR),aJ=Math.abs(aD.p2c(a1)-aS),aH=aI*aI+aJ*aJ;if(aH<aZ){aZ=aH;aM=[aL,aN/aW]}}}if(aX.bars.show&&!aM){var aF=aX.bars.align=="left"?0:-aX.bars.barWidth/2,aG=aF+aX.bars.barWidth;for(aN=0;aN<aV.length;aN+=aW){var a0=aV[aN],a1=aV[aN+1],aE=aV[aN+2];if(a0==null){continue}if(am[aL].bars.horizontal?(aT<=Math.max(aE,a0)&&aT>=Math.min(aE,a0)&&aU>=a1+aF&&aU<=a1+aG):(aT>=a0+aF&&aT<=a0+aG&&aU>=Math.min(aE,a1)&&aU<=Math.max(aE,a1))){aM=[aL,aN/aW]}}}}if(aM){aL=aM[0];aN=aM[1];aW=am[aL].datapoints.pointsize;return{datapoint:am[aL].datapoints.points.slice(aN*aW,(aN+1)*aW),dataIndex:aN,series:am[aL],seriesIndex:aL}}return null}function W(aC){if(X.grid.hoverable){ax("plothover",aC,function(aD){return aD["hoverable"]!=false})}}function V(aC){if(X.grid.hoverable){ax("plothover",aC,function(aD){return false})}}function U(aC){ax("plotclick",aC,function(aD){return aD["clickable"]!=false})}function ax(aF,aE,aL){var aJ=B.offset(),aC=aE.pageX-aJ.left-af.left,aD=aE.pageY-aJ.top-af.top,aK=m({left:aC,top:aD});aK.pageX=aE.pageX;aK.pageY=aE.pageY;var aI=F(aC,aD,aL);if(aI){aI.pageX=parseInt(aI.series.xaxis.p2c(aI.datapoint[0])+aJ.left+af.left);aI.pageY=parseInt(aI.series.yaxis.p2c(aI.datapoint[1])+aJ.top+af.top)}if(X.grid.autoHighlight){for(var aH=0;aH<L.length;++aH){var aG=L[aH];if(aG.auto==aF&&!(aI&&aG.series==aI.series&&aG.point[0]==aI.datapoint[0]&&aG.point[1]==aI.datapoint[1])){az(aG.series,aG.point)}}if(aI){K(aI.series,aI.datapoint,aF)}}ac.trigger(aF,[aK,aI])}function ay(){if(!aj){aj=setTimeout(v,30)}}function v(){aj=null;T.save();T.clearRect(0,0,n,l);T.translate(af.left,af.top);var aD,aC;for(aD=0;aD<L.length;++aD){aC=L[aD];if(aC.series.bars.show){t(aC.series,aC.point)}else{w(aC.series,aC.point)}}T.restore();C(M.drawOverlay,[T])}function K(aG,aE,aC){if(typeof aG=="number"){aG=am[aG]}if(typeof aE=="number"){var aF=aG.datapoints.pointsize;aE=aG.datapoints.points.slice(aF*aE,aF*(aE+1))}var aD=N(aG,aE);if(aD==-1){L.push({series:aG,point:aE,auto:aC});ay()}else{if(!aC){L[aD].auto=false}}}function az(aE,aD){if(aE==null&&aD==null){L=[];ay()}if(typeof aE=="number"){aE=am[aE]}if(typeof aD=="number"){aD=aE.data[aD]}var aC=N(aE,aD);if(aC!=-1){L.splice(aC,1);ay()}}function N(aF,aE){for(var aD=0;aD<L.length;++aD){var aC=L[aD];if(aC.series==aF&&aC.point[0]==aE[0]&&aC.point[1]==aE[1]){return aD}}return -1}function w(aH,aE){var aI=aE[0],aJ=aE[1],aC=aH.xaxis,aD=aH.yaxis;if(aI<aC.min||aI>aC.max||aJ<aD.min||aJ>aD.max){return}var aF=aH.points.radius+aH.points.lineWidth/2;T.lineWidth=aF;T.strokeStyle=a.color.parse(aH.color).scale("a",0.5).toString();var aG=1.5*aF,aI=aC.p2c(aI),aJ=aD.p2c(aJ);T.beginPath();if(aH.points.symbol=="circle"){T.arc(aI,aJ,aG,0,2*Math.PI,false)}else{aH.points.symbol(T,aI,aJ,aG,false)}T.closePath();T.stroke()}function t(aF,aE){T.lineWidth=aF.bars.lineWidth;T.strokeStyle=a.color.parse(aF.color).scale("a",0.5).toString();var aD=a.color.parse(aF.color).scale("a",0.5).toString();var aC=aF.bars.align=="left"?0:-aF.bars.barWidth/2;s(aE[0],aE[1],aE[2]||0,aC,aC+aF.bars.barWidth,0,function(){return aD},aF.xaxis,aF.yaxis,T,aF.bars.horizontal,aF.bars.lineWidth)}function H(aJ,aC,aK,aF){if(typeof aJ=="string"){return aJ}else{var aG=o.createLinearGradient(0,aK,0,aC);for(var aH=0,aI=aJ.colors.length;aH<aI;++aH){var aD=aJ.colors[aH];if(typeof aD!="string"){var aE=a.color.parse(aF);if(aD.brightness!=null){aE=aE.scale("rgb",aD.brightness)}if(aD.opacity!=null){aE.a*=aD.opacity}aD=aE.toString()}aG.addColorStop(aH/(aI-1),aD)}return aG}}}a.plot=function(f,d,e){var g=new c(a(f),d,e,a.plot.plugins);return g};a.plot.version="0.7";a.plot.plugins=[];a.plot.formatDate=function(f,h,n){var m=function(d){d=""+d;return d.length==1?"0"+d:d};var p=[];var g=false,o=false;var j=f.getUTCHours();var l=j<12;if(n==null){n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(h.search(/%p|%P/)!=-1){if(j>12){j=j-12}else{if(j==0){j=12}}}for(var k=0;k<h.length;++k){var e=h.charAt(k);if(g){switch(e){case"h":e=""+j;break;case"H":e=m(j);break;case"M":e=m(f.getUTCMinutes());break;case"S":e=m(f.getUTCSeconds());break;case"d":e=""+f.getUTCDate();break;case"m":e=""+(f.getUTCMonth()+1);break;case"y":e=""+f.getUTCFullYear();break;case"b":e=""+n[f.getUTCMonth()];break;case"p":e=(l)?(""+"am"):(""+"pm");break;case"P":e=(l)?(""+"AM"):(""+"PM");break;case"0":e="";o=true;break}if(e&&o){e=m(e);o=false}p.push(e);if(!o){g=false}}else{if(e=="%"){g=true}else{p.push(e)}}}return p.join("")};function b(e,d){return d*Math.floor(e/d)}})(jQuery);